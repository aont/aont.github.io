<html>
<head>
<title>Page Suspend Helper Manual</title>
</head>
<body>
<h1>Page Suspend Helper Manual</h1>
<div>Using a bookmarklet, the current page is put into a pseudo-suspended state.
On the suspended page, the original URL is displayed, along with a page preview if available.</div>
<div>Please use this
<a href="javascript:!function()%7Bfunction%20toDomainOmittedPath(urlObj)%7Breturn%20urlObj.pathname%2BurlObj.search%2BurlObj.hash%7Dfunction%20normalizeUrl(targetUrl%2CbaseUrl)%7Blet%20base%3Btry%7Bbase%3Dnew%20URL(baseUrl)%7Dcatch(e)%7Breturn%20targetUrl%7Dlet%20absoluteTarget%3Btry%7BabsoluteTarget%3Dnew%20URL(targetUrl)%7Dcatch(e)%7BabsoluteTarget%3Dnull%7Dif(absoluteTarget)return%20absoluteTarget.origin%3D%3D%3Dbase.origin%3FtoDomainOmittedPath(absoluteTarget)%3AtargetUrl%3Blet%20resolved%3Btry%7Bresolved%3Dnew%20URL(targetUrl%2Cbase)%7Dcatch(e)%7Breturn%20targetUrl%7Dconst%20domainOmitted%3DtoDomainOmittedPath(resolved)%3Breturn%20domainOmitted.length%3CtargetUrl.length%3FdomainOmitted%3AtargetUrl%7Dlet%20targetUrl%3Dlocation.href%3Btry%7Bif(location.href.startsWith(%22chrome%3A%2F%2Foffline%22))%7Blet%20reload%3Dnew%20URLSearchParams(location.search).get(%22reload%22)%3Breload%26%26(targetUrl%3Dreload)%7D%7Dcatch(e)%7B%7Dif(!location.href.startsWith(%22https%3A%2F%2Fchatgpt.com%2F%22))try%7Blet%20candidate%3Dnull%3Bconst%20ogUrlMeta%3Ddocument.querySelector('html%20%3E%20head%20%3E%20meta%5Bproperty%3D%22og%3Aurl%22%5D')%3BogUrlMeta%26%26ogUrlMeta.content%26%26(candidate%3DogUrlMeta.content)%3Bif(!candidate)%7Bconst%20canonicalLink%3Ddocument.querySelector('html%20%3E%20head%20%3E%20link%5Brel%3D%22canonical%22%5D')%3BcanonicalLink%26%26canonicalLink.href%26%26(candidate%3DcanonicalLink.href)%7Dif(candidate)try%7Bconst%20abs%3Dnew%20URL(candidate%2Clocation.href)%3BtargetUrl%3Dabs.href%7Dcatch(e)%7BtargetUrl%3Dcandidate%7D%7Dcatch(e)%7B%7Dconst%20params%3Dnew%20URLSearchParams%3Bdocument.title%26%26params.set(%22title%22%2Cdocument.title)%3Bparams.set(%22url%22%2CtargetUrl)%3BArray.from(document.querySelectorAll(%22html%20%3E%20head%20%3E%20link%5Brel~%3Dicon%5D%2C%20html%20%3E%20head%20%3E%20link%5Brel~%3Dapple-touch-icon%5D%22)).forEach((function(link)%7Blet%20faviconObj%3DArray.from(link.attributes).reduce((function(acc%2Cattr)%7Bif(%22href%22%3D%3D%3Dattr.name)try%7Bacc%5Battr.name%5D%3DnormalizeUrl(attr.value%2CtargetUrl)%7Dcatch(e)%7Bacc%5Battr.name%5D%3Dattr.value%7Delse%22rel%22%3D%3D%3Dattr.name%3Facc%5Battr.name%5D%3D%22icon%22%3Aacc%5Battr.name%5D%3Dattr.value%3Breturn%20acc%7D)%2C%7B%7D)%3BfaviconObj.href%26%26!faviconObj.href.startsWith(%22data%3A%22)%26%26params.append(%22favicon%22%2CJSON.stringify(faviconObj))%7D))%3Btry%7Blet%20cu%3Dnew%20URL(targetUrl)%3Bif((%22www.youtube.com%22%3D%3D%3Dcu.hostname%7C%7C%22m.youtube.com%22%3D%3D%3Dcu.hostname)%26%26%22%2Fwatch%22%3D%3D%3Dlocation.pathname)%7Bconst%20vid%3Dcu.searchParams.get(%22v%22)%3Bif(vid)%7Bconst%20thumbUrl%3D%22https%3A%2F%2Fi.ytimg.com%2Fvi%2F%22%2Bvid%2B%22%2Fmqdefault.jpg%22%3Bparams.append(%22ogimg%22%2CthumbUrl)%7D%7D%7Dcatch(e)%7B%7DArray.from(document.querySelectorAll('html%20%3E%20head%20%3E%20meta%5Bproperty%3D%22og%3Aimage%22%5D')).forEach((function(meta)%7Blet%20content%3Dmeta.content%3Bif(content%26%26!content.startsWith(%22data%3A%22))%7Bcontent%3DnormalizeUrl(content%2CtargetUrl)%3Bparams.append(%22ogimg%22%2Ccontent)%7D%7D))%3Bconst%20suspendUrl%3D%22https%3A%2F%2Faont.github.io%2Fsuspend.html%3F%22%2Bparams.toString()%3Blocation.href%3DsuspendUrl%7D()%3B">Bookmarklet</a>
</div>
</body>
</html>