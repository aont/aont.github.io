!function(){function toDomainOmittedPath(urlObj){return urlObj.pathname+urlObj.search+urlObj.hash}function normalizeUrl(targetUrl,baseUrl){let base;try{base=new URL(baseUrl)}catch(e){return targetUrl}let absoluteTarget;try{absoluteTarget=new URL(targetUrl)}catch(e){absoluteTarget=null}if(absoluteTarget)return absoluteTarget.origin===base.origin?toDomainOmittedPath(absoluteTarget):targetUrl;let resolved;try{resolved=new URL(targetUrl,base)}catch(e){return targetUrl}const domainOmitted=toDomainOmittedPath(resolved);return domainOmitted.length<targetUrl.length?domainOmitted:targetUrl}let targetUrl=location.href;try{if(location.href.startsWith("chrome://offline")){let sp;let reload=new URLSearchParams(location.search).get("reload");reload&&(targetUrl=reload)}}catch(e){}const params=new URLSearchParams;document.title&&params.set("title",document.title);params.set("url",targetUrl);Array.from(document.querySelectorAll("html > head > link[rel~=icon], html > head > link[rel~=apple-touch-icon]")).forEach((function(link){let faviconObj=Array.from(link.attributes).reduce((function(acc,attr){if("href"===attr.name)try{acc[attr.name]=normalizeUrl(attr.value,targetUrl)}catch(e){acc[attr.name]=attr.value}else"rel"===attr.name?acc[attr.name]="icon":acc[attr.name]=attr.value;return acc}),{});faviconObj.href&&!faviconObj.href.startsWith("data:")&&params.append("favicon",JSON.stringify(faviconObj))}));try{let cu=new URL(targetUrl);if(("www.youtube.com"===cu.hostname||"m.youtube.com"===cu.hostname)&&"/watch"===location.pathname){const vid=cu.searchParams.get("v");if(vid){const thumbUrl="https://i.ytimg.com/vi/"+vid+"/mqdefault.jpg";params.append("ogimg",thumbUrl)}}}catch(e){}Array.from(document.querySelectorAll('html > head > meta[property="og:image"]')).forEach((function(meta){let content=meta.content;if(content&&!content.startsWith("data:")){content=normalizeUrl(content,targetUrl);params.append("ogimg",content)}}));const suspendUrl="https://aont.github.io/suspend.html?"+params.toString();location.href=suspendUrl}();